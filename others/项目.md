1. 架构设计层面

   1. 借鉴了微前端思想，拆分项目，部署时通过nginx整合
      1. 需要处理publicPath，nginx代理各自的publicPath实现跳转，模拟一个完整系统的运行。在运行时，因为没跨域，登录校验可以读取到相同的token。store可以用同一份，通过vuex-persistedstate插件也不会影响。
      2. 通过router打包各自系统的页面及组件等资源
      3. router文件夹下有个index.js指向具体的子系统对应的router目录

2. 开发的工程化方面

   1. 为了开发和部署方便，开发了serve和build脚本；
   2. serve脚本会先询问启动哪个子项目，并会生成一个.env.serve的配置文件，里面记录一个环境变量，方便下次直接启动该子系统；
   3. build脚本先询问是否全部打包，如果选择否，则可以通过多选的方式选择需要打包的子系统，被选择的子系统会依次被打包。

3. 自动化部署方面

   通过jenkins多分支流水线，实现测试环境的CICD，集成了钉钉消息通知。使用docker部署前端服务。

4. 基础代码方面

   1. 菜单权限处理逻辑

   2. 封装按钮权限插件

   3. 封装上报用户访问记录的插件

   4. 部署时集成gis及与gis联调，通过挂载eventBus在window上

   5. axios拦截器

      1. 请求拦截器中在header中添加token

      2. 加载echarts矢量数据时，因为生产环境有publicPath而本地开发无publicPath的缘故，需要处理请求的config.baseURL。同时在响应拦截器中不判断code

      3. 如果是接口请求，会根据接口定义的code判断接口的成功与否。并做相关

         当响应内容不为json时且是文件流时，直接返回内容。

         ```js
         if (!/json/gi.test(response.headers['content-type']) && response.config.responseType === 'blob')
         {
             return response
         }
         ```

         

      4. Axios

         1. 当请求失败，希望能够自动重试3次以上再失败
         2. 分页数据中，当新的请求发出，自动中断上一次的请求
         3. 第三方提供 jsonp 接口，而你又只能使用静态页时 (ps: Axios 不支持 jsonp)

